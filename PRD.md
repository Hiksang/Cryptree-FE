# PRD: HyperView - HyperEVM 온체인 활동 분석 & 보상 플랫폼

## Product Requirements Document v4.0

> v4 변경사항: 포지셔닝 전환. "PnL 트래커" → "HyperEVM 트랜잭션 해석 + 온체인 활동 측정 & 보상". 유틸리티 퍼스트 전략 유지.

---

## 1. 프로젝트 개요

### 1.1 한 줄 요약

> HyperEVM 트랜잭션을 해석하고 온체인 활동을 측정하여 보상하는 플랫폼. 무료 크로스체인 DeFi 분석(세금·PnL·포트폴리오)을 제공하고, 유저 데이터 기반 광고 수익을 USDC로 분배한다.

### 1.2 핵심 전략 변경 (v3 → v4)

```
v3 전략 (PnL 트래커 포지셔닝):
  "무료 DeFi PnL 추적" → 유저 등록 → 제품 가치 경험

v4 전략 (HyperEVM 온체인 활동 분석 포지셔닝):
  "HyperEVM 트랜잭션 해석 + 온체인 활동 측정 & 보상"
  → HyperEVM 유저의 온체인 활동을 분석하고 점수화
  → 활동 기반 등급/DNA로 DeFi 정체성 부여
  → 활동에 따른 USDC 보상 (유틸리티 퍼스트 유지)

포지셔닝 변경 이유:
  - "PnL 트래커"는 Koinly/CoinTracker와 같은 카테고리에서 싸우게 됨
  - "HyperEVM 트랜잭션 해석"은 아무도 안 하는 새 카테고리 선점
  - "온체인 활동 측정 & 보상"은 유틸리티(측정)와 인센티브(보상)가 자연스럽게 연결
  - PnL/세금은 여전히 제공하지만, 리드 메시지가 아닌 부가 기능으로 포지셔닝
  - HyperEVM 생태계에 더 큰 가치를 제공 → 프로토콜 파트너십 유리
```

### 1.3 배경

기존 Web2 광고 플랫폼은 유저 데이터로 수익을 올리지만 유저에게 돌아가는 것은 없다. 크립토도 마찬가지:

- **DeBank, Zapper** — 유저 포트폴리오 데이터를 수집하지만 수익을 돌려주지 않는다
- **Koinly, CoinTracker** — 유저 데이터를 받고 $49-199/년을 청구한다
- **Galxe, Layer3** — 포인트를 주지만 플랫폼 수익은 불투명하다

HyperView는:
- **HyperEVM 트랜잭션을 해석**한다 (아무도 안 하는 영역)
- **온체인 활동을 측정하고 점수화**한다 (등급, DNA, 활동 스코어)
- **활동에 따라 USDC로 보상**한다 (수익 분배)
- 부가적으로 **무료 크로스체인 세금/PnL 분석**도 제공한다

### 1.4 왜 지금인가

| 요인 | 설명 |
|------|------|
| **비치헤드: HyperEVM** | HyperEVM 트랜잭션 해석 도구 전무. 카테고리 공백 |
| **HyperEVM 생태계 성장** | HyperEVM 프로토콜 증가 중이나 활동 분석 인프라 부재 |
| **크로스체인 복잡성** | 유저 활동이 5-10개 체인에 분산. 통합 분석 수요 급증 |
| **기술 준비 완료** | 35+ EVM 체인 백엔드 이미 구현, HyperEVM 어댑터 포함 |

### 1.5 전략: 유틸리티 → 신뢰 → 성장

```
Phase 0 (Week 1-3): HyperEVM 활동 분석으로 유저 획득
  └── "HyperEVM 트랜잭션 해석 + 활동 측정" → 제품 가치로 등록 유도
  └── HyperEVM + Hyperliquid 비치헤드
  └── 레퍼럴 시스템 내장 (보상은 낮은 톤으로)
  └── 목표: 지갑 등록 전환율 > 15%

Phase 1 (Week 4-8): 제품 깊이 + 첫 수익
  └── 대시보드, 세금 리포트, PnL 분석
  └── 어필리에이트 수익 파이프라인 가동
  └── + Arbitrum, Base 런칭
  └── 목표: D7 리텐션 > 20%, 첫 어필리에이트 수익

Phase 2 (Week 9-14): 첫 분배 + 보상 가속
  └── Season 1 첫 USDC 분배 실행
  └── "진짜 줬네" → 입소문 → 레퍼럴 가속
  └── 프로토콜 영업 시작 (Featured Listing)
  └── 목표: 분배 후 K-factor > 0.8

Phase 3+ (Week 15+): 광고 시스템 + 체인 확장
  └── 크로스체인 타겟팅 광고
  └── Revenue Vault 온체인 배포
  └── 35+ 체인 확장
```

### 1.6 비즈니스 모델

```
수익원 (단계별 활성화):
├── 프로토콜 어필리에이트      (Phase 1)  ← 영업 없이 자동 수익
├── 프로토콜 Featured Listing  (Phase 2)  ← 첫 분배 실행 후 영업 시작
├── CPA/전환 수수료            (Phase 2)  ← 크로스체인 추천 → 실사용 시
├── 크로스체인 타겟팅 광고      (Phase 3)  ← 유저 규모 확보 후
├── 프리미엄 분석 (Pro)         (Phase 3)  ← 고래/기관용 고급 분석
└── 데이터 인텔리전스           (Phase 3+) ← B2B 리포트

수익 분배:
Phase 1-2: 유저 70% / 운영 20% / 트레저리 10%
Phase 3:   유저 60% / 운영 30% / 트레저리 10%
Phase 4+:  유저 50% / 운영 35% / 트레저리 15%
```

---

## 2. 핵심 가치 제안 (유틸리티 퍼스트)

### 2.1 1순위: HyperEVM 트랜잭션 해석 & 온체인 활동 측정

**유저가 등록하는 이유는 "보상"이 아니라 "내 온체인 활동의 가시화"여야 한다.**

```
유저가 즉시 얻는 가치:
├── 1. HyperEVM 트랜잭션 해석 (경쟁자 없음)
│   ├── 모든 HyperEVM tx를 사람이 읽을 수 있게 해석
│   ├── 프로토콜별 인터랙션 분류 (스왑, 브릿지, LP, 스테이킹 등)
│   └── Hyperliquid 퍼프 트레이딩 통합 분석
├── 2. 온체인 활동 측정 & 점수화
│   ├── 활동 스코어 (tx 수, 볼륨, 프로토콜 다양성)
│   ├── DeFi DNA (Perp/DEX/Yield/Lending 비율)
│   ├── 등급 시스템 (Bronze ~ Diamond)
│   └── 크로스체인 활동 통합 (HyperEVM + 35개 체인)
├── 3. 무료 크로스체인 PnL & 세금 분석
│   └── Koinly $49 → HyperView $0
└── 4. DeFi Identity
    └── 공유 가능한 온체인 프로필 카드

유저에게 일절 요구하지 않는 것:
├── API Key 연동
├── 지갑 서명 (Phase 0에서는)
├── 결제
└── 개인정보
```

### 2.2 2순위: 보상 시스템 (Phase 2부터 본격)

```
Phase 0-1: 보상은 "있지만 작게 언급"
  └── 사이드바 하단에 "리워드 프로그램 준비 중" 정도
  └── 포인트는 내부적으로 적립하되, 유저에게 과도하게 강조하지 않음

Phase 2: 첫 분배 실행 후 "보상 전면 공개"
  └── "Season 1 분배 완료: 총 $X,XXX USDC"
  └── 기존 유저에게 서프라이즈 분배
  └── 이 시점부터 레퍼럴 인센티브 본격 활성화
  └── "진짜 주는구나" → 입소문 → 성장 가속

보상 구조 (Phase 2+):
├── 시즌제 포인트 (3개월 단위)
├── 등급별 배수 (Bronze 1x ~ Diamond 3x)
├── 레퍼럴 보상 (등급 연동)
└── USDC 분배 (시즌 종료 시)
```

### 2.3 크로스체인 데이터 엔진

```
유저가 보는 것:                           플랫폼이 얻는 것:
─────────────                           ──────────────
HyperEVM 트랜잭션 해석        →         전체 트랜잭션 이력 + 프로토콜 분류
온체인 활동 스코어/등급        →         유저 세그먼트 (활동 수준별)
DeFi DNA + 크로스체인 분석    →         체인별 거래 패턴, 선호 자산
무료 PnL & 세금 분석          →         자산 규모, 활동 빈도, 체인 선호도
Hyperliquid 퍼프 통합         →         트레이더 등급, 전략 패턴
```

---

## 3. 유저 등급 시스템

### 3.1 등급 정의

크로스체인 온체인 이력 기반 4단계 자동 산정.

| 등급 | 조건 (크로스체인 합산) | 설명 |
|------|---------------------|------|
| **Bronze** | tx 50건+, $1K+ 볼륨 | DeFi 입문자 |
| **Silver** | tx 500건+, $50K+ 볼륨 | 활발한 유저 |
| **Gold** | tx 2,000건+, $500K+ 볼륨 | 헤비 유저 |
| **Diamond** | tx 5,000건+, $2M+ 볼륨 | 고래 |

보너스 조건 (한 등급 상향):
- 3+ 체인 활동
- 퍼프 볼륨 $100K+
- 10+ 프로토콜 사용
- 활동 기간 1년+

### 3.2 DeFi DNA

유저의 온체인 활동을 4가지 유형으로 분류:

```
DeFi DNA 분류:
├── Perp Trading: 퍼프/마진 거래 비율
├── DEX Swaps: 스팟 스왑 비율
├── Yield Farming: LP, 스테이킹, 파밍 비율
└── Lending: 예치/대출 비율

표현: 막대 차트 (각 유형 %)
예: ██████████ 40% Perp | ██████░░░░ 25% DEX | ...
```

---

## 4. 유저 플로우

### 4.1 Phase 0 핵심 플로우: 유틸리티 퍼스트 온보딩

```
Flow 1: 오가닉 유입

[랜딩 페이지]
  │
  │  핵심 메시지: "HyperEVM 온체인 활동을 분석하고 보상받으세요"
  │  서브: "트랜잭션 해석 · 활동 스코어 · DeFi DNA · 등급 측정"
  │
  ▼
[CTA: 지갑 주소 입력] ── API Key 불필요, 퍼블릭 데이터만
  │
  ▼
[스캔 화면: 프로그레시브 로딩]
  │  Step 1: HyperEVM 스캔 (3-5초) → 즉시 결과 표시
  │  Step 2: Hyperliquid 스캔 (5-10초) → 추가 결과 표시
  │  Step 3: (Phase 1+) Arbitrum, Base 등 → 점진적 추가
  │
  ▼
[결과 페이지: 3개 탭]
  │
  ├── 탭 1: 활동 분석 (기본 노출)
  │   ├── DeFi Identity 카드 (등급, DNA, 체인 분포)
  │   ├── HyperEVM 트랜잭션 해석 (최근 tx 리스트)
  │   ├── 활동 스코어 / 프로토콜별 인터랙션
  │   └── [이미지 다운로드] [링크 복사]
  │
  ├── 탭 2: PnL 분석
  │   ├── 기간별 PnL 차트
  │   ├── 체인별/프로토콜별 수익
  │   └── 상위 수익/손실 거래
  │
  └── 탭 3: 세금 미리보기 (가입 유도)
      ├── "2024 예상 과세 소득: $XX,XXX"
      ├── 상세 리포트는 가입 후 이용 가능
      └── [무료 가입하고 전체 리포트 받기]
  │
  ▼
[가입 유도 (소프트)]
  ├── "결과 저장하기" → Privy 로그인 (이메일/Google)
  ├── 가입 안 해도 스캔 결과는 볼 수 있음 (게이팅 최소화)
  └── 로그인 시 지갑 주소 자동 연결
  │
  ▼
[가입 완료 시 (Privy webhook → DB 동기화)]
  ├── 레퍼럴 코드 자동 생성 (낮은 톤으로 안내)
  ├── 스캔한 지갑 주소 계정에 연결
  ├── "친구에게 공유하면 함께 사용할 수 있어요"
  └── 대시보드 진입
```

```
Flow 2: 레퍼럴 유입

[레퍼럴 링크 클릭]
  hyperview.xyz/r/abc123
  │
  ▼
[랜딩 페이지 + 소프트 레퍼럴 배너]
  "0xA3..님이 사용 중인 HyperEVM 활동 분석 도구입니다"
  ("친구가 쓰는 도구" 신뢰 프레이밍)
  │
  ▼
[이하 Flow 1과 동일]
```

```
Flow 3: 퍼블릭 프로필 유입

[CT/Discord에서 HyperView 프로필 링크 발견]
  hyperview.xyz/address/0xAbc...
  │
  ▼
[퍼블릭 프로필 페이지]
  ├── DeFi Identity (등급, DNA, 체인 분포)
  ├── 공개 통계 (볼륨, 거래 수, 활동 체인)
  ├── 비공개: 상세 PnL, 보유 자산 (본인만)
  │
  ├── [내 지갑도 분석해보기 →]
  └── [이 지갑이 나인가요? 클레임하기]
```

### 4.2 Phase 1 플로우: 일일 사용

```
[대시보드]
  ├── 오늘 PnL: +$340 (across 3 chains)
  ├── 크로스체인 포트폴리오
  ├── 최근 거래 (크로스체인)
  │
  ├── 💡 인사이트
  │   ├── "USDC APY: Aave(ETH) 4% → Radiant(ARB) 8%"
  │   └── "Hyperliquid 펀딩비 변동 알림"
  │
  └── 사이드: 리워드 프로그램 (낮은 톤)
      └── "곧 시작됩니다. 지금 활동하면 초기 보상이 커집니다."
```

### 4.3 Phase 2 플로우: 첫 분배 후

```
[첫 분배 이벤트]
  │
  ▼
[기존 유저에게 알림]
  "Season 1 분배 완료!"
  "총 $X,XXX USDC가 유저에게 분배되었습니다"
  "당신의 몫: $XX.XX USDC [수령하기]"
  │
  ▼
[유저 반응: "진짜 주네?"]
  │
  ▼
[이 시점부터 레퍼럴 인센티브 본격 활성화]
  "친구를 초대하면 Season 2 보상이 커집니다"
  "Season 1에 이미 $X,XXX가 분배되었습니다" ← 실적 기반 신뢰
  │
  ▼
[레퍼럴 대시보드 활성화]
  ├── 내 레퍼럴 코드 + 공유 버튼
  ├── 초대한 친구 목록
  ├── 레퍼럴 포인트 현황
  └── Season 2 예상 보상
```

---

## 5. 레퍼럴 & 성장 전략

### 5.1 2단계 성장 전략

```
Stage 1: 유틸리티 기반 오가닉 성장 (Phase 0-1)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  성장 채널:
  ├── HyperEVM / Hyperliquid 커뮤니티 (Discord, Twitter)
  │   └── "HyperEVM 활동 분석 + 보상" 메시지
  ├── Crypto Twitter
  │   └── "나 HyperEVM Diamond 티어였음" 등급/DNA 자랑
  ├── HyperEVM 프로토콜 파트너십
  │   └── 프로토콜별 활동 분석 제공 → 공동 프로모션
  └── 콘텐츠 공유 (Identity 카드, 활동 스코어)
      └── 레퍼럴 링크 자연 삽입

  이 시기의 레퍼럴:
  ├── 코드는 자동 생성되지만 강하게 푸시하지 않음
  ├── "친구에게 공유" 정도의 소프트 CTA
  └── 포인트는 내부적으로 적립 (유저에게 크게 노출 안 함)

Stage 2: 보상 기반 가속 성장 (Phase 2+, 첫 분배 후)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  트리거: Season 1 USDC 분배 완료

  성장 채널:
  ├── "진짜 USDC 받았다" 유저 입소문
  │   └── 실적 기반 신뢰 → 강력한 바이럴
  ├── 레퍼럴 인센티브 본격 활성화
  │   └── 등급 연동 보상, 주간 챌린지
  ├── 프로토콜 파트너십
  │   └── Featured Listing 영업 시작
  └── 체인 런칭 이벤트
      └── Arbitrum Wrapped, Base Wrapped 등
```

### 5.2 레퍼럴 시스템 (Phase 2+ 본격)

```
레퍼럴 보상 (등급 연동):
├── 1차 레퍼럴: 피초대자 등급에 비례
│   Bronze +100pts, Silver +300pts, Gold +800pts, Diamond +2,000pts
├── 피초대자 보너스: +50pts
├── 2차 레퍼럴: +20pts (3단계 이상 차단)
└── 레퍼럴 유저 활동 보너스: +10pts/월

레퍼럴 제한:
├── 2단계까지만 (MLM 인식 방지)
├── 봇 계정 감지 시 보상 취소
└── 레퍼럴 유저도 온체인 검증 통과 필요
```

### 5.3 공유 콘텐츠

레퍼럴 링크의 CTR을 높이기 위한 콘텐츠 포장:

```
1. DeFi Identity 카드 (이미지)
   ├── 등급, DNA, 체인 분포
   ├── "나의 DeFi 정체성" 컨셉
   └── 하단에 자연스럽게 referral URL

2. 주간 PnL 카드
   ├── 이번 주 수익/손실 요약
   └── "무료로 추적하기" + referral URL

3. 체인별 Wrapped
   ├── 특정 체인 활동 요약
   └── 해당 체인 커뮤니티에 공유

4. 친구 비교 (DeFi Battle)
   ├── 두 지갑 비교 이미지
   └── 양쪽 모두 공유 동기
```

---

## 6. 포인트 & 보상 시스템

### 6.1 시즌제 포인트

```
시즌: 3개월 단위
├── Season 1: Month 1-3
├── Season 2: Month 4-6
└── 각 시즌 포인트는 독립 (인플레이션 리셋)

포인트 노출 전략:
├── Phase 0-1: 포인트를 적립하되, UI에서 작게 표시
│   └── "활동 기록 중... 리워드 프로그램 시작 시 반영됩니다"
└── Phase 2+: 포인트 대시보드 전면 공개
    └── 첫 분배 실행 후 포인트의 가치가 증명된 상태
```

### 6.2 포인트 획득

| 활동 | 포인트 | Phase |
|------|--------|-------|
| 지갑 연결 + 등급 산정 | 등급별 상이 | 0 |
| 프로필 완성 | +50 pts | 0 |
| 추가 체인 연동 | +50 pts/체인 | 1 |
| 일일 접속 | +5 pts/일 | 1 |
| 온체인 거래 활동 | +10 pts/일 | 1 |
| 크로스체인 거래 | +5 pts/일 추가 | 1 |
| 레퍼럴 (등급 연동) | +100~2,000 pts | 2 |
| 프로토콜 추천 실사용 | +200 pts/건 | 2 |
| 리뷰 작성 | +50 pts/건 | 2 |

### 6.3 포인트 → USDC 전환

```
시즌 종료 시:
  포인트 가치 = (시즌 수익 × 유저 비율) / 총 유효 포인트

예시 (Season 1):
  월 어필리에이트 $2,000 × 3개월 = $6,000
  유저 풀(70%): $4,200
  총 유효 포인트: 200,000
  1pt = $0.021
  Gold 유저 1,000pts × 2배수 = 2,000 유효pts → $42
```

---

## 7. 화면 구성

### 7.1 전체 구조

```
Phase 0 (3페이지):
├── / (랜딩 페이지)
├── /address/[address] (스캔 결과 + 퍼블릭 프로필)
└── /api/og/[address] (OG 이미지)

Phase 1 (+5페이지):
├── /dashboard (메인 대시보드)
├── /portfolio (포트폴리오 상세)
├── /pnl (PnL 분석)
├── /tax (세금 리포트)
└── /transactions (거래 내역)

Phase 2 (+4페이지):
├── /rewards (리워드 대시보드)
├── /referral (레퍼럴 대시보드)
├── /protocols (프로토콜 디렉토리)
└── /leaderboard (리더보드)
```

### 7.2 랜딩 페이지

```
┌──────────────────────────────────────────────────────────┐
│  [HyperView]                        [로그인] [시작하기]    │
├──────────────────────────────────────────────────────────┤
│                                                          │
│        HyperEVM 온체인 활동을                              │
│         분석하고 보상받으세요                               │
│                                                          │
│     트랜잭션 해석 · 활동 스코어 · DeFi DNA · 등급 측정     │
│         지갑 주소만 넣으면 됩니다.                          │
│                                                          │
│         ┌──────────────────────────────┐                 │
│         │  0x... 지갑 주소 입력          │  [분석하기]     │
│         └──────────────────────────────┘                 │
│                                                          │
│     ✅ 완전 무료  ✅ HyperEVM 완벽 지원  ✅ 35+ 체인       │
│                                                          │
├──────────────────────────────────────────────────────────┤
│                                                          │
│  왜 HyperView인가?                                       │
│                                                          │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐              │
│  │ 🔍       │  │ 📊       │  │ 🏆       │              │
│  │ HyperEVM │  │ 활동     │  │ 등급 &   │              │
│  │ tx 해석   │  │ 스코어   │  │ 보상     │              │
│  │           │  │          │  │          │              │
│  │ 모든 tx를 │  │ 활동을   │  │ 활동에   │              │
│  │ 사람이    │  │ 점수화   │  │ 따른     │              │
│  │ 읽게 해석 │  │ DNA 분석 │  │ USDC     │              │
│  └──────────┘  └──────────┘  └──────────┘              │
│                                                          │
├──────────────────────────────────────────────────────────┤
│                                                          │
│  ┌────────────────┬──────────┬──────────┬──────────┐    │
│  │                │ DeBank   │ Koinly   │ HyperView│    │
│  ├────────────────┼──────────┼──────────┼──────────┤    │
│  │ HyperEVM 해석  │ ❌       │ ❌       │ ✅ 완벽  │    │
│  │ 활동 측정/등급 │ ❌       │ ❌       │ ✅       │    │
│  │ 활동 보상      │ ❌       │ ❌       │ ✅ USDC  │    │
│  │ 크로스체인 PnL │ ❌       │ ✅       │ ✅ 무료  │    │
│  │ 세금 리포트    │ ❌       │ ✅       │ ✅ 무료  │    │
│  │ 비용           │ 무료     │ $49+/년  │ 무료     │    │
│  └────────────────┴──────────┴──────────┴──────────┘    │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

### 7.3 스캔 결과 / 퍼블릭 프로필

```
┌──────────────────────────────────────────────────────────┐
│  [← 홈]                              [내 지갑 분석하기]   │
├──────────────────────────────────────────────────────────┤
│                                                          │
│  0xA3b7...F2d4                                           │
│                                                          │
│  [활동 분석]  [PnL 분석]  [세금 미리보기]                   │
│  ─────────                                               │
│                                                          │
│  ┌─────────────────────────────────────────────────┐    │
│  │                                                  │    │
│  │      DeFi Identity 2024                          │    │
│  │                                                  │    │
│  │   🌐 Active Chains     5                         │    │
│  │   📊 Total Trades      2,847                     │    │
│  │   💰 Total Volume      $1.2M                     │    │
│  │                                                  │    │
│  │   DeFi DNA:                                      │    │
│  │   ██████████ 40% Perp Trading                    │    │
│  │   ██████░░░░ 25% DEX Swaps                       │    │
│  │   ████░░░░░░ 20% Yield Farming                   │    │
│  │   ██░░░░░░░░ 15% Lending                         │    │
│  │                                                  │    │
│  │   🥇 Gold DeFi Explorer                          │    │
│  │   Top 8% across all chains                       │    │
│  │                                                  │    │
│  └─────────────────────────────────────────────────┘    │
│                                                          │
│  [📥 이미지 저장]  [🔗 링크 복사]  [𝕏 공유하기]           │
│                                                          │
│  ┌─────────────────────────────────────────────────┐    │
│  │  체인별 활동                                      │    │
│  │                                                  │    │
│  │  Hyperliquid    ████████████████ $500K  1,200tx  │    │
│  │  Arbitrum       ██████████░░░░░ $420K    847tx   │    │
│  │  HyperEVM       ████░░░░░░░░░░ $120K    320tx   │    │
│  │  Base           ███░░░░░░░░░░░  $80K    280tx   │    │
│  │  Ethereum       ███░░░░░░░░░░░  $80K    200tx   │    │
│  └─────────────────────────────────────────────────┘    │
│                                                          │
│  ┌─────────────────────────────────────────────────┐    │
│  │  📊 최근 거래 (상위 5건)                          │    │
│  │                                                  │    │
│  │  시간     체인       유형      금액     PnL       │    │
│  │  2h ago  HL Perp   ETH Short  $5.2K   +$340    │    │
│  │  5h ago  HyperEVM  Swap HYPE  $1.0K   -        │    │
│  │  1d ago  Arbitrum  LP Harvest $120    +$120    │    │
│  │  ...                                            │    │
│  │                                                  │    │
│  │  전체 내역은 가입 후 확인 가능                     │    │
│  └─────────────────────────────────────────────────┘    │
│                                                          │
│  ┌─────────────────────────────────────────────────┐    │
│  │  💡 이 지갑의 인사이트                            │    │
│  │                                                  │    │
│  │  • HyperEVM 주요 활동: 스왑 320건, LP 12건        │    │
│  │  • Hyperliquid 퍼프 트레이딩이 주 활동 (40%)      │    │
│  │  • 5개 체인 활용 → 크로스체인 파워유저             │    │
│  │  • 활동 스코어: 2,847점 (상위 8%)                 │    │
│  │                                                  │    │
│  │  더 자세한 분석은 가입 후 이용 가능                 │    │
│  │  [무료 가입하기 →]                                │    │
│  └─────────────────────────────────────────────────┘    │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

### 7.4 PnL 분석 탭

```
┌──────────────────────────────────────────────────────────┐
│                                                          │
│  [활동 분석]  [PnL 분석]  [세금 미리보기]                   │
│               ─────────                                  │
│                                                          │
│  기간: [7일] [30일] [90일] [1년] [전체]                    │
│  체인: [All ▼]                                           │
│                                                          │
│  ┌─────────────────────────────────────────────────┐    │
│  │  총 PnL: +$15,247                                │    │
│  │                                                  │    │
│  │      ╱╲      ╱╲                                  │    │
│  │     ╱  ╲    ╱  ╲         ╱╲                      │    │
│  │  ──╱────╲──╱────╲───────╱──╲──────              │    │
│  │         ╲╱        ╲   ╱      ╲                   │    │
│  │                     ╲╱        ╲                   │    │
│  │  Jan     Feb     Mar     Apr     May              │    │
│  └─────────────────────────────────────────────────┘    │
│                                                          │
│  체인별 PnL:                                             │
│  ┌──────────┬──────────┬──────────┬──────────┐         │
│  │ HL Perp  │ Arbitrum │ Base     │ Ethereum │         │
│  │ +$8,200  │ +$3,547  │ +$1,200  │ +$600    │         │
│  │ ▲ 54%    │ ▲ 23%    │ ▲ 8%     │ ▲ 4%     │         │
│  └──────────┴──────────┴──────────┴──────────┘         │
│                                                          │
│  상위 수익 거래:                                          │
│  1. ETH Long (HL) Feb 12  +$2,100                       │
│  2. ARB/ETH LP (Arbitrum) Jan-Mar  +$890                │
│  3. ...                                                  │
│                                                          │
│  상세 분석은 가입 후 이용 가능                              │
│  [무료 가입하기 →]                                        │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

### 7.5 세금 미리보기 탭

```
┌──────────────────────────────────────────────────────────┐
│                                                          │
│  [활동 분석]  [PnL 분석]  [세금 미리보기]                   │
│                           ──────────────                 │
│                                                          │
│  📋 2024 세금 요약 (미리보기)                              │
│                                                          │
│  ┌─────────────────────────────────────────────────┐    │
│  │                                                  │    │
│  │  총 실현 수익:  $18,847                           │    │
│  │  총 실현 손실:  -$5,200                           │    │
│  │  순 이익:      $13,647                           │    │
│  │                                                  │    │
│  │  ───────────────────────────────────             │    │
│  │                                                  │    │
│  │  체인별 내역:                                     │    │
│  │  ├── Hyperliquid  +$8,200  (Perp, Funding)       │    │
│  │  ├── Arbitrum     +$3,547  (GMX, Swap)           │    │
│  │  ├── HyperEVM     +$2,400  (Staking, Airdrop)   │    │
│  │  ├── Base         +$1,200  (LP)                  │    │
│  │  └── Ethereum     +$600    (Lending interest)    │    │
│  │                                                  │    │
│  │  ⚠️ 이 금액은 추정치입니다.                        │    │
│  │     정확한 세금 계산은 가입 후 이용 가능합니다.      │    │
│  │                                                  │    │
│  └─────────────────────────────────────────────────┘    │
│                                                          │
│  가입하면 무료로 받을 수 있는 것:                           │
│  ✅ 정확한 원가 계산 (FIFO/LIFO/HIFO/이동평균)            │
│  ✅ 국가별 세금 계산 (한국, 미국, 일본 등 7개국)            │
│  ✅ CSV/PDF 리포트 다운로드                                │
│  ✅ AI 세금 요약 리포트                                    │
│                                                          │
│  [무료 가입하고 전체 세금 리포트 받기 →]                     │
│                                                          │
│  Koinly에서는 $49/년. HyperView에서는 무료.                │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

### 7.6 메인 대시보드 (Phase 1, 가입 후)

```
┌──────────────────────────────────────────────────────────┐
│  [HyperView]                          0xA3b7..F2d4      │
├──────────┬───────────────────────────────────────────────┤
│          │                                               │
│ 📊 대시보드│  ┌──────────┐ ┌──────────┐ ┌──────────┐    │
│ 💼 포트폴리오│ │ 총 자산   │ │ 오늘 PnL │ │ 활동 체인│    │
│ 📈 PnL    │  │ $85,230  │ │ +$340    │ │ 5개     │    │
│ 🔄 거래내역│  │ 5 chains │ │ 3 chains │ │ 12 proto│    │
│ 🏦 세금   │  └──────────┘ └──────────┘ └──────────┘    │
│ 🔍 프로토콜│                                             │
│ 👤 프로필 │  ┌────────────────────────────────────┐     │
│          │  │  📈 PnL (30일)                       │     │
│──────────│  │  [All] [HL] [Arbitrum] [Base] [ETH]  │     │
│          │  │                                      │     │
│ Gold     │  │      ╱╲      ╱╲                     │     │
│ 5 chains │  │     ╱  ╲    ╱  ╲         ╱╲         │     │
│          │  │  ──╱────╲──╱────╲───────╱──╲──      │     │
│──────────│  │                                      │     │
│ 리워드   │  └────────────────────────────────────┘     │
│ 준비 중   │                                             │
│          │  ┌─────────────────┐ ┌────────────────┐     │
│          │  │ 💼 포트폴리오    │ │ 💡 인사이트     │     │
│          │  │                  │ │                │     │
│          │  │ Arbitrum  $32.4K│ │ USDC APY 비교: │     │
│          │  │ Ethereum  $20.1K│ │ Aave 4%        │     │
│          │  │ HL Perp   $15.0K│ │ → Radiant 8%   │     │
│          │  │ Base       $9.7K│ │ 월 +$50 가능   │     │
│          │  │ HyperEVM   $8.0K│ │                │     │
│          │  └─────────────────┘ └────────────────┘     │
│          │                                             │
│          │  ┌──────────────────────────────────────┐   │
│          │  │  📋 최근 거래                          │   │
│          │  │  10:23  HL Perp  ETH Short  $5.2K    │   │
│          │  │  09:15  HyperEVM Swap HYPE  $1.0K    │   │
│          │  │  08:40  Arbitrum LP수확     $120      │   │
│          │  └──────────────────────────────────────┘   │
│          │                                             │
└──────────┴─────────────────────────────────────────────┘
```

### 7.7 리워드 대시보드 (Phase 2+, 첫 분배 후)

```
┌──────────────────────────────────────────────────────────┐
│  💰 리워드                                               │
├──────────────────────────────────────────────────────────┤
│                                                          │
│  ┌──────────────────────────────────────────────────┐   │
│  │  🎉 Season 1 분배 완료!                           │   │
│  │                                                   │   │
│  │  총 분배: $4,200 USDC (1,200명 참여)              │   │
│  │  당신의 몫: $42.00 USDC  [수령하기 →]             │   │
│  │                                                   │   │
│  │  📋 Revenue Vault 온체인 검증 →                    │   │
│  └──────────────────────────────────────────────────┘   │
│                                                          │
│  Season 2 현황                                           │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐               │
│  │ 내 포인트 │ │ 등급 배수│ │ 예상 보상│               │
│  │ 1,240pts │ │ Gold 2x  │ │ ~$28     │               │
│  │ +25 오늘 │ │ 2,480eff │ │ USDC     │               │
│  └──────────┘ └──────────┘ └──────────┘               │
│                                                          │
│  포인트 획득 내역:                                        │
│  ├── 일일 접속: 150pts (30일)                            │
│  ├── 온체인 활동: 120pts                                 │
│  ├── 크로스체인 보너스: 80pts                             │
│  ├── 레퍼럴: 820pts (Gold 1명!)                          │
│  └── 프로토콜 전환: 400pts                               │
│                                                          │
│  ⏰ Season 2 종료까지: 42일                              │
│                                                          │
│  ──────────────────────────────────────                  │
│                                                          │
│  📣 친구 초대하고 보상 늘리기                              │
│                                                          │
│  내 초대 코드: abc123                                    │
│  [복사] [𝕏 공유] [Discord 공유]                          │
│                                                          │
│  Season 1 실적이 증명합니다:                              │
│  "총 $4,200 USDC가 실제로 분배되었습니다"                 │
│                                                          │
│  초대한 친구: 3명                                        │
│  ├── 0xA3.. Silver +310pts                              │
│  ├── 0xB7.. Gold   +820pts                              │
│  └── 0xC1.. Bronze +100pts                              │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

---

## 8. 기술 아키텍처

### 8.1 시스템 구조

```
┌─────────────────────────────────────────────────────────────┐
│                    Frontend (Next.js 14+)                     │
│  Phase 0:                  Phase 1:                Phase 2:  │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌──────┐ │
│  │ Landing │ │ Scan    │ │Dashboard│ │ Tax     │ │Reward│ │
│  │ Page    │ │ Result  │ │         │ │ Report  │ │      │ │
│  └─────────┘ └─────────┘ └─────────┘ └─────────┘ └──────┘ │
├─────────────────────────────────────────────────────────────┤
│                    Auth (Privy)                               │
│  이메일/Google 로그인 │ Webhook → DB 동기화 │ (Phase 1) 지갑  │
├─────────────────────────────────────────────────────────────┤
│                    API Layer (Hono, 기존)                     │
│  ┌──────────────────┐  ┌──────────────────────────────────┐ │
│  │ 기존 Tax API      │  │ 신규 (최소)                       │ │
│  │ /api/sync        │  │ /api/scan/:address               │ │
│  │ /api/tax         │  │ /api/identity/:address            │ │
│  │ /api/pnl         │  │ /api/og/:address                  │ │
│  │ /api/portfolio   │  │ /api/users/me (Privy JWT 검증)    │ │
│  │ /api/hyperliquid │  │ /api/users/link-wallet            │ │
│  │ /api/chains      │  │ /api/points (Phase 2)             │ │
│  │                  │  │ /api/referral (Phase 2)           │ │
│  └──────────────────┘  └──────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────┤
│                    Data Layer                                │
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────────────┐ │
│  │  PostgreSQL   │ │    Redis     │ │ Smart Contracts      │ │
│  │  기존 33 테이블│ │  스캔 캐시    │ │ Revenue Vault        │ │
│  │  + 단계적 추가 │ │              │ │ (Phase 3)            │ │
│  └──────────────┘ └──────────────┘ └──────────────────────┘ │
├─────────────────────────────────────────────────────────────┤
│                  External APIs                               │
│  Etherscan V2 (35+ EVM) │ Hyperliquid │ Hyperscan           │
│  CoinGecko │ CMC │ DEX Screener │ DefiLlama │ Privy         │
└─────────────────────────────────────────────────────────────┘
```

### 8.2 Phase 0 신규 API (3개만)

```yaml
# 스캔 (기존 sync 서비스 활용)
POST /api/scan/:address
  → Hyperliquid + HyperEVM 스캔
  → 결과를 Redis에 캐시 (30분 TTL)
  → Response: { chains, transactions, volume, dna, tier }

# Identity 조회
GET /api/identity/:address
  → 캐시된 스캔 결과에서 Identity 데이터 반환
  → Response: { tier, dna, chainBreakdown, stats }

# OG 이미지
GET /api/og/:address
  → satori + resvg로 Identity 카드 이미지 생성
  → Response: PNG image (1200x630)
```

### 8.3 Phase 0 DB 스키마 (Privy 연동)

```sql
-- 유저 (Privy webhook user.created 시 자동 생성)
CREATE TABLE users (
  id              UUID PRIMARY KEY,
  privy_id        TEXT UNIQUE NOT NULL,       -- Privy user ID
  email           TEXT,                        -- Privy에서 동기화
  nickname        TEXT,
  tier            TEXT NOT NULL DEFAULT 'bronze',
  defi_dna        JSONB,
  active_chains   INTEGER DEFAULT 0,
  referral_code   TEXT UNIQUE NOT NULL,       -- 가입 시 자동 생성
  referred_by     UUID REFERENCES users(id),  -- 레퍼럴 코드로 유입 시
  utm_source      TEXT,                        -- 유입 채널 추적
  utm_medium      TEXT,
  utm_campaign    TEXT,
  created_at      TIMESTAMP DEFAULT NOW(),
  last_active_at  TIMESTAMP
);

-- 유저-지갑 매핑 (1 유저 : N 지갑)
CREATE TABLE user_wallets (
  id              UUID PRIMARY KEY,
  user_id         UUID REFERENCES users(id) NOT NULL,
  address         TEXT NOT NULL,
  is_primary      BOOLEAN DEFAULT false,
  linked_at       TIMESTAMP DEFAULT NOW(),
  UNIQUE (user_id, address)
);

-- 유저별 체인 활동 요약
CREATE TABLE user_chain_stats (
  id            UUID PRIMARY KEY,
  user_id       UUID REFERENCES users(id) NOT NULL,
  chain_id      TEXT NOT NULL,
  transactions  INTEGER DEFAULT 0,
  volume_usd    DECIMAL DEFAULT 0,
  UNIQUE (user_id, chain_id)
);
```

### 8.4 Phase 2 추가 DB 스키마

```sql
-- 시즌
CREATE TABLE seasons (
  id            SERIAL PRIMARY KEY,
  name          TEXT NOT NULL,
  start_date    TIMESTAMP NOT NULL,
  end_date      TIMESTAMP NOT NULL,
  status        TEXT DEFAULT 'active',
  total_revenue DECIMAL DEFAULT 0,
  user_pool     DECIMAL DEFAULT 0
);

-- 포인트 원장
CREATE TABLE point_ledger (
  id            UUID PRIMARY KEY,
  user_id       UUID REFERENCES users(id) NOT NULL,
  season_id     INTEGER REFERENCES seasons(id) NOT NULL,
  amount        INTEGER NOT NULL,
  type          TEXT NOT NULL,
  created_at    TIMESTAMP DEFAULT NOW()
);

-- 레퍼럴
CREATE TABLE referrals (
  id            UUID PRIMARY KEY,
  referrer_id   UUID REFERENCES users(id) NOT NULL,
  referee_id    UUID REFERENCES users(id) NOT NULL,
  depth         INTEGER NOT NULL DEFAULT 1,
  created_at    TIMESTAMP DEFAULT NOW()
);
```

---

## 9. 구현 로드맵

### Phase 0: 유틸리티 MVP (Week 1-3)

| 작업 | 상세 | 우선순위 |
|------|------|---------|
| Privy 인증 | 이메일/Google 로그인, webhook → DB 동기화 | P0 |
| 랜딩 페이지 | HyperEVM 활동 분석 강조 CTA, 비교표 | P0 |
| 지갑 스캔 | HyperEVM + Hyperliquid, 프로그레시브 로딩 | P0 |
| 스캔 결과 페이지 | 3탭 (활동 분석, PnL, 세금 미리보기) | P0 |
| 가입 → 지갑 연결 | 스캔 후 "결과 저장" → 로그인 → 지갑 자동 연결 | P0 |
| DeFi Identity 카드 | 등급, DNA, 체인 분포 | P0 |
| OG 이미지 생성 | 트위터 카드용 | P0 |
| 퍼블릭 프로필 | 아무 주소로 접근 가능 (비로그인) | P0 |
| UTM 파라미터 저장 | 유입 채널별 트랙션 측정 | P0 |
| 기본 분석 | Mixpanel 이벤트 트래킹 + Privy 대시보드 | P0 |

**목표:** 지갑 주소 입력 전환율 > 15%, 스캔 완료율 > 70%

**검증:**
- A/B 테스트: 유틸리티 vs 보상 메시지
- 스캔 속도 벤치마크 (P50 < 15초)
- HL 커뮤니티 반응 관찰

### Phase 1: 제품 깊이 + 가입 (Week 4-8)

| 작업 | 상세 | 우선순위 |
|------|------|---------|
| Privy Web3 지갑 연동 | Privy에 지갑 서명 로그인 추가 | P1 |
| 메인 대시보드 | 포트폴리오, PnL, 거래내역 | P0 |
| 세금 리포트 | 크로스체인 통합, 7개국, CSV/PDF | P0 |
| 포인트 적립 (백그라운드) | 내부 적립, UI 최소 노출 | P1 |
| 레퍼럴 코드 | 자동 생성, 소프트 CTA | P1 |
| Arbitrum + Base 런칭 | 추가 체인 지원 | P0 |
| 어필리에이트 연동 | 5개 프로토콜 가입 | P0 |

**목표:** D7 리텐션 > 20%, 첫 어필리에이트 수익 발생

### Phase 2: 첫 분배 + 보상 가속 (Week 9-14)

| 작업 | 상세 | 우선순위 |
|------|------|---------|
| Season 1 분배 실행 | 어필리에이트 수익 기반 USDC 분배 | P0 |
| 리워드 대시보드 | 포인트, 예상 보상, 수령 | P0 |
| 레퍼럴 대시보드 | 초대 현황, 보상 내역 | P0 |
| 레퍼럴 인센티브 활성화 | 등급 연동 보상 | P0 |
| 프로토콜 디렉토리 | 체인 필터, APY 비교 | P1 |
| 프로토콜 영업 시작 | Featured Listing | P0 |
| 투명성 대시보드 | 수익/분배 공개 | P1 |

**목표:** 분배 후 K-factor > 0.8, 2+ 유료 프로토콜 파트너

### Phase 3+: 확장 (Week 15+)

| 작업 | 상세 |
|------|------|
| Revenue Vault | 온체인 수익 기록 |
| 크로스체인 타겟팅 광고 | 프로그래매틱 광고 시스템 |
| 35+ 체인 확장 | 순차적 체인 추가 |
| 리더보드 | PnL, 볼륨, 탐험가 랭킹 |
| 고래 추적 | 크로스체인 대규모 거래 감지 |
| Pro 구독 | 고급 분석 기능 |

---

## 10. 성공 지표 (KPI)

### Phase 0 (Week 1-3)

| 지표 | 목표 | 킬 기준 |
|------|------|---------|
| 랜딩 → 스캔 시작 전환율 | > 15% | < 5%: 가치 제안 피봇 |
| 스캔 완료율 | > 70% | < 40%: 속도/UX 문제 |
| 스캔 → 가입 전환율 (Privy) | > 20% | < 10%: 가입 가치 부족 |
| Identity 카드 저장/공유 | > 10% | < 3%: 카드 재설계 |
| 스캔 P50 응답 시간 | < 15초 | > 30초: 프로그레시브 로딩 |
| 가입자 수 (Privy 대시보드) | 500+ | - |
| 유입 채널별 전환율 | 추적 | - |

### Phase 1 (Week 4-8)

| 지표 | 목표 | 킬 기준 |
|------|------|---------|
| 가입 전환율 (스캔 → 가입) | > 20% | < 10%: 가입 가치 부족 |
| D1 리텐션 | > 40% | < 20%: 제품 문제 |
| D7 리텐션 | > 20% | < 10%: 전략 전환 |
| D30 리텐션 | > 10% | < 5%: 치명적 |
| 첫 어필리에이트 수익 | > $100/월 | $0: 어필리에이트 모델 검증 실패 |
| Connected Wallets | 2,000+ | - |

### Phase 2 (Week 9-14)

| 지표 | 목표 | 킬 기준 |
|------|------|---------|
| 첫 USDC 분배 | ✅ 실행 | - |
| 분배 후 K-factor | > 0.8 | < 0.3: 레퍼럴 성장 포기 |
| 레퍼럴 링크 복사율 | > 30% | < 10%: 인센티브 부족 |
| 유료 프로토콜 파트너 | 2+ | 0: 광고 모델 재설계 |
| 월 수익 | > $5,000 | - |
| Connected Wallets | 8,000+ | - |

---

## 11. 리스크 & 대응

| 리스크 | 대응 |
|--------|------|
| "USDC 준다"가 스캠으로 인식 | Phase 0-1에서 보상은 "활동 기반 보상"으로 자연스럽게 포지셔닝 |
| 유틸리티만으로 유저 안 옴 | HyperEVM 비치헤드 집중. "HyperEVM 활동 분석" 카테고리 선점 |
| 어필리에이트 수익 미미 | 프로토콜 영업 앞당기기. B2C Pro 대안 |
| 스캔 속도 느림 | 프로그레시브 로딩 (HL 먼저) |
| DeBank/Zapper 수익 분배 모방 | 크로스체인 타겟팅 + 실행력 해자 |
| 봇/시빌 공격 | 크로스체인 검증 (전 체인 합산) |
| 시즌 전환 이탈 | 롤링 분배 대안 준비 |

---

## 12. Phase 0 체크리스트

```
Week 1:
□ Next.js + Privy 셋업 (이메일/Google 로그인)
□ Privy webhook → users 테이블 동기화
□ 랜딩 페이지 배포 (Next.js + Vercel)
□ 지갑 스캔 API (/api/scan) 연동
□ 스캔 결과 페이지 (3탭)
□ 스캔 후 "결과 저장" → 로그인 → 지갑 연결 플로우
□ DeFi Identity 카드 컴포넌트
□ OG 이미지 생성
□ Mixpanel 이벤트 + UTM 파라미터 트래킹

Week 2:
□ 퍼블릭 프로필 페이지
□ HyperEVM/HL Discord/Twitter 시드 배포
□ A/B 테스트 설정 (활동 분석 vs 보상 메시지)

Week 3:
□ 전환율 데이터 분석
□ 스캔 속도 최적화
□ 피드백 수집 + 이터레이션
□ Phase 1 착수 판단
```
